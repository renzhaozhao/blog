/*! Tomcat360.com (c) 2015 
	Author: Renzhao
*/
define("signup",["log","form","modules/utils"],function(a){"use strict";var s=a("log"),t=s.log,e=a("form");new e("#signup-form",{rulers:[{name:"repassword",validator:function(a,s){var t=a,e=$("#password").val();return s.isTheSame(t,e)?{result:!0}:{result:!1,msg:"两次输入的密码不一致"}}},{name:"password",validator:function(a,s){return s.isEnough(a)&&$(".qiangdu span").eq(0).addClass("active").siblings().removeClass("active"),s.isMedium(a)&&$(".qiangdu span").eq(1).addClass("active").siblings().removeClass("active"),s.isStrong(a)&&$(".qiangdu span").eq(2).addClass("active").siblings().removeClass("active"),{result:!0}}}]}),function(){$(".signup-form").submit(function(a){a.preventDefault();var s={name:$("#name").val(),password:$("#password").val(),email:$("#email").val()};$.ajax({type:"get",dataType:"json",url:ROOT_URL+"public/js/signup",data:s,success:function(a){t("注册成功！"),window.location.href=ROOT_URL+"index.html"},error:function(){alert("ajax失败")}})})}(),function(){var s=a("modules/utils");$("#telphone").focusout(function(a){var t=$(this).val(),e=s.checkMobile(t);e.status||(alert(e.msg),$("#telphone").val(""))})}(),function(){var a="placeholder"in document.createElement("input"),s=function(a){var s=a.attr("placeholder"),t=a.defaultValue;t||a.val(s).addClass("phcolor"),a.focus(function(){a.val()==s&&$(this).val("")}),a.blur(function(){""==a.val()&&$(this).val(s).addClass("phcolor")}),a.keydown(function(){$(this).removeClass("phcolor")})};a||$("input").each(function(){text=$(this).attr("placeholder"),"text"==$(this).attr("type")&&s($(this)),"password"==$(this).attr("type")&&s($(this))})}()});